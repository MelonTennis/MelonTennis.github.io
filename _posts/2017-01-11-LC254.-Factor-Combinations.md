---
layout: post
title: LC254. Factor Combinations
subtitle: Print all possible factors
date: 2017-01-10
categories: Leetcode
tags: [Backtracking]
catalog: true
---

### LC254. Factor Combinations

Numbers can be regarded as product of its factors. For example,

```
8 = 2 x 2 x 2;
  = 2 x 4.

```

Write a function that takes an integerÂ *n*Â and return all possible combinations of its factors.

**Note:**Â 

1. You may assume thatÂ *n*Â is always positive.
2. Factors should be greater than 1 and less thanÂ *n*.

##### Naive solutionï¼š

æ‰€æœ‰çš„å› å­æ‰“å°å‡ºæ¥ï¼Œé‚£ä¹ˆæˆ‘çš„æƒ³æ³•å°±æ˜¯recursiveç„¶åæ¯æ¬¡å°†å› å­ä½œä¸ºè¾“å…¥å°±å¯ä»¥äº†...

```java
public class Solution {
    public List<List<Integer>> getFactors(int n) {
        List<List<Integer>> res = new ArrayList<List<Integer>>();
        helper(res, new ArrayList<Integer>(), n, 2);
        return res;
    }
    
    private void helper(List<List<Integer>> res, List<Integer> cur, int left, int start){
        if(left <= 1){
            if(cur.size() > 1)
                res.add(new ArrayList<Integer>(cur));
            return;
        }
        for(int i = start; i <= left; i++){
            if(left % i == 0){
                cur.add(i);
                helper(res, cur, left/i, i);
                cur.remove(cur.size() - 1);
            }
        }
        return;
    }
}
```

204ms.

##### Improve:

> [discuss](https://discuss.leetcode.com/topic/21082/my-recursive-dfs-java-solution/8)

```java
public class Solution {
    public List<List<Integer>> getFactors(int n) {
        List<List<Integer>> ans  = new ArrayList();
    if (n < 4){
        return ans;
    }
    DFS(n, ans, 2, new ArrayList<Integer>());
    return ans;
}

private void DFS(int n, List<List<Integer>> ans, int factor, List<Integer> entry){
    int limit = (int)Math.sqrt(n);
    for(int x = factor; x<=limit; x++){
        if(n%x == 0){
            entry.add(x);
            DFS(n/x, ans, x, entry);
            entry.add(n/x);
            ans.add(new ArrayList(entry));
            entry.remove(entry.size()-1);
            entry.remove(entry.size()-1);
        }
    }
}
}
```

2ms.  åˆ©ç”¨sqrtå‡½æ•°ï¼Œæ¯æ¬¡å°†ä¸€å¯¹å› å­åŠ å…¥ç»“æœä¸­ï½å¿«äº†å¥½å¤š_(:Ğ·ã€âˆ )\_

#### DP VS. Backtracking

> [Quora](https://www.quora.com/What-is-the-difference-between-dynamic-programing-and-backtracking)

~~çœ‹äº†çœ‹æ­ªæœä»çš„blogï¼Œæ„Ÿè§‰å’Œé€›æŸä¹å·®ä¸å¤š(ç¬‘)~~

è¯¶å‘€ï¼Œæœ‰ç†è§£é”™è¯¯çš„åœ°æ–¹æ¬¢è¿æ‰è™«ğŸª

ç®€è€Œè¨€ä¹‹ï¼ŒDPæ˜¯é€šè¿‡å°†ä¸€ä¸ªé—®é¢˜åˆ†è§£ä¸ºä¸é‡åˆå­é—®é¢˜æ¥è§£å†³çš„æ–¹å¼ï¼Œé€šå¸¸ç”¨äºè§£å†³å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ã€‚

å›æº¯åˆ™æœç´¢äº†ä¸€ä¸ªé—®é¢˜çš„æ‰€æœ‰ç­”æ¡ˆï¼Œ~~æœŸé—´ä¹Ÿå¯ä»¥å‰ªæ~~ã€‚