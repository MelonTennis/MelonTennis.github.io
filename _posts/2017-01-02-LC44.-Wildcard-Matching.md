---
layout: post
title: LC44. Wildcard Matching
subtitle: Implement wildcard pattern matching with support for '?' and '*'.
date: 2017-01-02
categories: Leetcode
tags: [DP, Backtracking, String]
catalog: true
---

### LC44. Wildcard Matching

Implement wildcard pattern matching with support forÂ `'?'`Â andÂ `'*'`.

```
'?' Matches any single character.
'*' Matches any sequence of characters (including the empty sequence).

The matching should cover the entire input string (not partial).

The function prototype should be:
bool isMatch(const char *s, const char *p)

Some examples:
isMatch("aa","a") â†’ false
isMatch("aa","aa") â†’ true
isMatch("aaa","aa") â†’ false
isMatch("aa", "*") â†’ true
isMatch("aa", "a*") â†’ true
isMatch("ab", "?*") â†’ true
isMatch("aab", "c*a*b") â†’ false
```

è¿™é¢˜å’Œ[LC10. Regular Expression](https://yijiajin.github.io/leetcode/2016/12/28/LC10.-Regular-Expression-Matching/)å¾ˆåƒï¼Œéƒ½æ˜¯Stringçš„åŒ¹é…ã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºè¿™é¢˜çš„*æ˜¯å¯ä»¥åŒ¹é…ä»»ä½•Seriesï¼Œå’Œå…¶å‰é¢çš„charæ— å…³ã€‚'?'å’Œ'.' çš„ä½œç”¨ç›¸åŒã€‚

##### two pointers solution

> [O(n) time and O(1) space](https://discuss.leetcode.com/topic/3040/linear-runtime-and-constant-space-solution)

LC10æˆ‘æƒ³ç”¨åŒæŒ‡é’ˆç»“æœäº¤äº†æ— æ•°æ¬¡æ²¡æœ‰AC...è¿™é‡Œç”±äº*å’Œå‰é¢çš„å­—ç¬¦æ²¡æœ‰å…³ç³»æ‰€ä»¥ç”¨åŒæŒ‡é’ˆå¯è§£ã€‚åˆ†ä¸ºå‡ ç§æƒ…å†µï¼Œå¦‚æœåŒ¹é…åˆ™è¿›è¡Œä¸‹ä¸€ä¸ªå­—ç¬¦çš„åŒ¹é…ï¼Œå¦‚æœé‡åˆ°ğŸŒŸçš„è¯å°±è®°å½•å½“å‰ä½ç½®å¹¶ç»§ç»­åŒ¹é…ï¼Œå¦‚æœä¸åŒ¹é…å°±å›åˆ°ä¸Šä¸€ä¸ªğŸŒŸçš„ä½ç½®ï¼Œæ”¹å˜ğŸŒŸåŒ¹é…seriesçš„é•¿åº¦ç»§ç»­åŒ¹é…ã€‚

```java
public class Solution {
    public boolean isMatch(String s, String p) {
        // two pointers
        if(s == null || p == null)  return false;
        char[] sarr = s.toCharArray();
        char[] parr = p.toCharArray();
        int i = 0, j = 0, star = -1, begin = 0;
        while(i < sarr.length){
            // if match or ?
            if(j < parr.length && (sarr[i] == parr[j] || parr[j] == '?')){
                i++;
                j++;
            // * match until not match, if not match backtracking to next char
            }else if(j < parr.length && parr[j] == '*'){
                while(j < parr.length && parr[j] == '*') j++;
                if(j == parr.length)    return true;  // last is *
                star = j;
                begin = i;
            // when * and not match
            }else if(star >= 0){
                i = ++begin;
                j = star;
            }else return false;
        } // while i,j
        while(j < parr.length && parr[j] == '*')    j++;
        return i == sarr.length && j == parr.length;
    }
}
```

å…¶å®æˆ‘è§‰å¾—è¿™ä¸ªä¸æ˜¯O(n)...Backtrackingæœ€å·®çš„è¯ä¼šæåˆ°O(n!)å§QAQ..äº‹å®è¯æ˜two pointersçš„åšæ³•ç¡®å®æ¯”DPå¿«äº†å¾ˆå¤šã€‚

âš ï¸ï¼šç”±äºæœ‰å¯èƒ½åŒ¹é…åˆ°æœ€åpè¿˜æœ‰å¥½å¤š***ä½†æ˜¯så·²ç»åŒ¹é…å®Œï¼Œæ‰€ä»¥whileé‡Œæ˜¯ä»¥sä½œä¸ºåˆ¤æ–­ï¼Œæœ€åå†åˆ¤æ–­æœ‰å¯èƒ½æœ‰æœ«å°¾çš„ğŸŒŸå­˜åœ¨ã€‚

##### DP solution

å’ŒLC10ä¸€æ ·å¯ä»¥åˆ©ç”¨DPæ¥è§£å†³ï¼Œ DP{i}{j}ä»£è¡¨s[i-1]ä¸p[j-1]æ˜¯å¦åŒ¹é…ã€‚åˆå§‹åŒ–å¯¹äºpå‰ç½®*çš„DPçŸ©é˜µéƒ½ç½®ä¸ºtrueã€‚å¯ä»¥åŒ¹é…æ—¶DP{i}{j} = DP{i-1}{j-1}, é‡åˆ°ğŸŒŸæ—¶å¯èƒ½åŒ¹é…ä¸€ä¸²å­—ç¬¦æˆ–è€…ä¸åŒ¹é…å­—ç¬¦ï¼Œä¸åŒ¹é…å°±å¯¹åº”DP{i}{j-1}, ä¸€ä¸²åˆ™å¯¹åº”DP{i-1}{j}ã€‚

```java
public class Solution {
    public boolean isMatch(String s, String p) {
        // DP
        if(s == null || p == null)  return false;
        char[] sarr = s.toCharArray();
        char[] parr = p.toCharArray();
        boolean[][] dp = new boolean[sarr.length+1][parr.length+1];
        dp[0][0] = true;
        for(int i = 1; i <= parr.length; i++){
            if(parr[i-1] == '*')  dp[0][i] = true; 
            else break;
        }
        for(int i = 1; i <= sarr.length; i++){
            for(int j = 1; j <= parr.length; j++){
                if(sarr[i-1] == parr[j-1] || parr[j-1] == '?'){
                    dp[i][j] = dp[i-1][j-1];
                }else if(parr[j-1] == '*'){
                    dp[i][j] = dp[i-1][j] || dp[i][j-1];
                }
            } // for j
        } // for i
        return dp[sarr.length][parr.length];
    }
}
```

å¤æ‚åº¦O(n^2), O(n^2)ï¼Œ è¿™ä¸ªè§£æ³•ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚

âš ï¸ï¼šå„å¤„çš„â€œ=â€

~~æ²¡10ä¸ªæäº¤éƒ½ä¸èƒ½ACçš„QAQ~~