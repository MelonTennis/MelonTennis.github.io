---
dzzlayout: post
title: Parallel Architecture & Programing III
subtitle: 15618 PP3 - Parallel Performance and Optimization
date: 2018-10-10
categories: Note
tags: [PP, 15618]
catalog: true
header-img: "img/ctc1.jpeg"
---

## Parallel Architecture & Programing 叁

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

不知道自己在干嘛，大概是出现了错觉。 \_(:з」∠)\_   日常错觉

不管错觉的事，这篇复习一下performance optimization.

**Key goals**

* balance workload onto available execution resources
* reduce communication (avoid stalls)
* reduce extra work (overhead)

### Balancing workload

Ideally: all processors are computing all the time during program execution

**Static assignment**

* assignment of work to threads is pre-determined
* two approaches: blocked and interleaved
* simple and zero runtime overhead
* when cost/amount of work is predictable
* "semi-static" assignment - periodically profiles and re-adjusts

**Dynamic assignment**

* determines assignment dynamically at runtime - not pre-determined
* workload balance and overhead (sync cost) trade-off
* smarter scheduling - long tasks first
* stealing - increase locality
  * child stealing, continuation stealing
  * gready join scheduling policy

### Fork-join parallelism

Natural way to express independent work in [divide-and-conquer](https://en.wikipedia.org/wiki/Divide_and_conquer_algorithm) algorithms（不认识分治法的我orz

~~日常失忆的我并不记得讲了这个fork-join的并行模式大概看起来是这样的我真的会过吗~~

Fork: create new logical thread of control

* 父线程调用，创造新的并发子线程
* 子线程和父线程分别异步执行

Join: returns when current function calls have completed 

* 子线程结束时调用
* 父线程等待子线程结束

发现[这个别家的课件](http://ipcc.cs.uoregon.edu/lectures/lecture-9-fork-join.pdf)详细介绍了[fork-join model](https://en.wikipedia.org/wiki/Fork–join_model) 

